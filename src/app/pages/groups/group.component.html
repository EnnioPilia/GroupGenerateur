<div class="container-fluid parent-page py-4 ">
  <div class="row justify-content-center g-4">

    <div class="col-12 col-md-10">
      <app-group-title title=". GENERATEUR DE GROUPES ."></app-group-title>
    </div>

    <div *ngFor="let list of lists" class="col-12 col-md-5 ">
      <div class="list-section p-4 ">

        <app-group-header
          [list]="list"
          [(numberOfGroups)]="numberOfGroups"
          [(criteria)]="criteria"
          (generate)="generateForList(list.id)">
        </app-group-header>

        <app-group-generated
          [list]="list"
          [groups]="list.generatedGroups || []"
          [groupNames]="list.groupNames || []"
          [errorMessage]="list.errorMessage || ''"
          (generate)="generateForList(list.id)"
          (groupNamesChange)="updateGroupNames(list)">
        </app-group-generated>

        <div class="text-center w-100 py-3 mt-4">
          <button class="btn btn-outline-custom w-100 py-3" (click)="toggleSavedGroupsVisibility(list)">
            {{ list.showSavedGroups ? 'Cacher' : 'Afficher' }} lâ€™historique
          </button>
        </div>

        <app-group-history
          *ngIf="list.showSavedGroups"
          [listId]="list.id"
          (delete)="deleteSavedGroups(list.id)">
        </app-group-history>

      </div>
    </div>

  </div>
</div>
